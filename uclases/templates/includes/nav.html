
<nav id="main-navbar" class="fixed w-full z-40 transition-all duration-300 sm:py-5 py-4 hover:scale-101">
  <div class="container flex items-center justify-between mx-auto">
    <a class="text-xl font-bold text-primary flex items-center" href="/">
      <span class="relative z-10">
        <span class="text-glow text-foreground">U</span>-Clases
      </span>
    </a>

    <!-- Desktop nav -->
    <div class="hidden md:flex items-center space-x-8">
      <a href="/" class="text-foreground/80 hover:text-primary transition-colors duration-300">
        Inicio
      </a>

      {% if user.is_authenticated %}
        <!-- Dropdown con avatar -->
        <div class="relative group">
          <button class="flex items-center focus:outline-none">
            <img src="{{ user.profile.image.url|default:'/static/img/default-avatar.png' }}"
                alt="avatar"
                class="w-8 h-8 rounded-full border border-gray-300">
          </button>
          <div class="absolute right-0 mt-2 w-48 bg-card border border-border rounded-md shadow-lg opacity-0 group-hover:opacity-100 transition-all duration-200">
            <a href="{% url 'accounts:profile' %}" class="block px-4 py-2 rounded-md hover:text-primary hover:bg-primary-foreground transition-colors duration-200">Mi perfil</a>
            <a href="{% url 'accounts:logout' %}" class="block px-4 py-2 rounded-md hover:text-primary hover:bg-primary-foreground transition-colors duration-200">Cerrar sesión</a>
          </div>
        </div>
      {% else %}
        <a href="{% url 'accounts:login' %}" class="text-foreground/80 hover:text-primary transition-colors duration-300">
          Iniciar sesión
        </a>

        <a href="{% url 'accounts:register' %}" class="text-foreground/80 hover:text-primary transition-colors duration-300">
          Registrarse
        </a>
      {% endif %}
    </div>
  </div>
</nav>

{% block scripts %}
<script>
// Scroll effect
window.addEventListener('scroll', function() {
  const nav = document.getElementById('main-navbar');
  if (window.scrollY > 12) {
    nav.classList.add('sm:py-3', 'py-2', 'bg-background/80', 'backdrop-blur-md', 'shadow-xs');
    nav.classList.remove('sm:py-5', 'py-4');
  } else {
    nav.classList.remove('sm:py-3', 'py-2', 'bg-background/80', 'backdrop-blur-md', 'shadow-xs');
    nav.classList.add('sm:py-5', 'py-4');
  }
});
</script>
{% endblock %}
